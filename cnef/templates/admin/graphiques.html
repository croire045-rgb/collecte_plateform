<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analyses Graphiques</title>
    {% load static %}
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="{% static 'image/Congo.png' %}">
    <style>
        /* Styles de base - identiques à l'interface chef */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .dashboard {
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 20px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-between;
            min-height: 120px;
        }

        .header-center {
            text-align: center;
            flex: 1;
            padding: 0 20px;
        }

        .main-title {
            font-size: 1.6em;
            font-weight: bold;
            color: #ffffff;
            margin-bottom: 8px;
        }

        .separator {
            width: 30%;
            height:3px;
            background: #000304;
            margin: 6px auto;
            border: none;
        }        

        .sub-title {
            font-size: 1.1em;
            color: #efce13;
            font-weight: 600;
        }

        .logo-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100px;
        }

        .logo-left {
            margin-right: auto;
        }

        .logo-right {
            margin-left: auto;
        }

        .header-image {
            height: 80px;
            width: auto;
            object-fit: contain;
            transition: transform 0.3s ease;
        }

        .header-image:hover {
            transform: scale(1.05);
        }

        /* Navigation tabs */
        .nav-tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .nav-tab {
            padding: 20px 30px;
            cursor: pointer;
            border: none;
            background: none;
            font-size: 16px;
            font-weight: 500;
            color: #6c757d;
            transition: all 0.3s ease;
            border-bottom: 3px solid transparent;
            flex: 1;
            text-align: center;
        }

        .nav-tab.active {
            color: #3498db;
            border-bottom-color: #3498db;
            background: white;
        }

        .tab-content {
            padding: 40px;
        }

        .tab-pane {
            display: none;
        }

        .tab-pane.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Styles pour les graphiques */
        .graph-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .graph-card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease;
        }

        .graph-card:hover {
            transform: translateY(-5px);
        }

        .graph-title {
            color: #2c3e50;
            margin-bottom: 15px;
            text-align: center;
            font-size: 1.2em;
            font-weight: 600;
        }

        .graph-placeholder {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 300px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 600;
        }

        /* Filtres pour les graphiques */
        .filters {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            display: flex;
            flex-direction: column;
            gap: 5px;
        }

        .filter-label {
            font-size: 12px;
            color: #7f8c8d;
            font-weight: 600;
        }

        .filter-select {
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: white;
            min-width: 150px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                padding: 15px;
                min-height: auto;
            }
            
            .header-image {
                height: 60px;
            }
            
            .logo-left, .logo-right {
                margin: 0;
            }
            
            .nav-tab {
                padding: 15px 20px;
                font-size: 14px;
            }

            .tab-content {
                padding: 20px;
            }

            .graph-container {
                grid-template-columns: 1fr;
            }

            .filters {
                flex-direction: column;
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="dashboard">
        <div class="header">
            <!-- Logo à gauche -->
            <div class="logo-container logo-left">
                <img src="{% static 'image/Congo.png' %}" alt="République du Congo" class="header-image">
            </div>

            <!-- Contenu central -->
            <div class="header-center">
                <div class="main-title">Comité National Économique et Financier<br> (CNEF)</div>
                <hr class="separator">
                <div class="sub-title">Banque des Etats de l'Afrique Centrale<br> (BEAC)</div>
            </div>

            <!-- Logo à droite -->
            <div class="logo-container logo-right">
                <img src="{% static 'image/BEAC.png' %}" alt="BEAC" class="header-image">
            </div>
        </div>

        <div class="nav-tabs">
            <button class="nav-tab active" onclick="switchTab('structure')">Structure et Répartition des Crédits</button>
            <button class="nav-tab" onclick="switchTab('dynamique')">Dynamique et Évolution du Crédit</button>
            <button class="nav-tab" onclick="switchTab('conditions')">Conditions Financières et Coût du Crédit</button>
            <button class="nav-tab" onclick="switchTab('institutionnelle')">Répartition Institutionnelle du Financement</button>
        </div>

        <div class="tab-content">
            <!-- Structure et Répartition des Crédits -->
            <div id="structure" class="tab-pane active">
                <h2>Structure et Répartition des Crédits</h2>
                
                <!-- Filtres -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Période</label>
                        <select class="filter-select" id="period-structure">
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Type de crédit</label>
                        <select class="filter-select" id="credit-type">
                            <option value="tous">Tous les types</option>
                            <option value="amortissable">Crédits amortissables</option>
                            <option value="decouvert">Découverts</option>
                            <option value="affacturage">Affacturage</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Secteur économique</label>
                        <select class="filter-select" id="sector">
                            <option value="tous">Tous les secteurs</option>
                            <option value="agriculture">Agriculture</option>
                            <option value="industrie">Industrie</option>
                            <option value="services">Services</option>
                        </select>
                    </div>
                </div>
                
                <!-- Graphiques -->
                <div class="graph-container">
                    <div class="graph-card">
                        <div class="graph-title">Répartition par type de crédit</div>
                        <div class="graph-placeholder">
                            Graphique circulaire - Répartition par type de crédit
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Distribution par secteur économique</div>
                        <div class="graph-placeholder">
                            Graphique en barres - Distribution par secteur
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Évolution de la structure du crédit</div>
                        <div class="graph-placeholder">
                            Graphique en aires empilées - Évolution structurelle
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Concentration des crédits par montant</div>
                        <div class="graph-placeholder">
                            Graphique en boîtes à moustaches - Concentration
                        </div>
                    </div>
                </div>
            </div>

            <!-- Dynamique et Évolution du Crédit -->
            <div id="dynamique" class="tab-pane">
                <h2>Dynamique et Évolution du Crédit</h2>
                
                <!-- Filtres -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Période</label>
                        <select class="filter-select" id="period-dynamique">
                            <option value="5ans">5 dernières années</option>
                            <option value="3ans">3 dernières années</option>
                            <option value="1an">Dernière année</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Granularité</label>
                        <select class="filter-select" id="granularity">
                            <option value="mensuelle">Mensuelle</option>
                            <option value="trimestrielle">Trimestrielle</option>
                            <option value="annuelle">Annuelle</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Indicateur</label>
                        <select class="filter-select" id="indicator">
                            <option value="volume">Volume de crédit</option>
                            <option value="nouveaux">Nouveaux crédits</option>
                            <option value="remboursements">Remboursements</option>
                        </select>
                    </div>
                </div>
                
                <!-- Graphiques -->
                <div class="graph-container">
                    <div class="graph-card">
                        <div class="graph-title">Évolution du volume de crédit</div>
                        <div class="graph-placeholder">
                            Graphique en ligne - Évolution du volume
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Croissance annuelle du crédit</div>
                        <div class="graph-placeholder">
                            Graphique en barres - Taux de croissance
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Saisonnalité du crédit</div>
                        <div class="graph-placeholder">
                            Graphique en barres groupées - Saisonnalité
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Projection des tendances</div>
                        <div class="graph-placeholder">
                            Graphique en ligne avec projection - Tendances
                        </div>
                    </div>
                </div>
            </div>

            <!-- Conditions Financières et Coût du Crédit -->
            <div id="conditions" class="tab-pane">
                <h2>Conditions Financières et Coût du Crédit</h2>
                
                <!-- Filtres -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Période</label>
                        <select class="filter-select" id="period-conditions">
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Type de taux</label>
                        <select class="filter-select" id="rate-type">
                            <option value="tous">Tous les taux</option>
                            <option value="fixe">Taux fixe</option>
                            <option value="variable">Taux variable</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Durée</label>
                        <select class="filter-select" id="duration">
                            <option value="toutes">Toutes durées</option>
                            <option value="court">Court terme</option>
                            <option value="moyen">Moyen terme</option>
                            <option value="long">Long terme</option>
                        </select>
                    </div>
                </div>
                
                <!-- Graphiques -->
                <div class="graph-container">
                    <div class="graph-card">
                        <div class="graph-title">Distribution des taux d'intérêt</div>
                        <div class="graph-placeholder">
                            Histogramme - Distribution des taux
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Évolution des taux moyens</div>
                        <div class="graph-placeholder">
                            Graphique en ligne - Évolution des taux
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Corrélation taux/montant</div>
                        <div class="graph-placeholder">
                            Nuage de points - Corrélation taux/montant
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Comparaison des conditions par durée</div>
                        <div class="graph-placeholder">
                            Graphique en barres groupées - Conditions par durée
                        </div>
                    </div>
                </div>
            </div>

            <!-- Répartition Institutionnelle du Financement -->
            <div id="institutionnelle" class="tab-pane">
                <h2>Répartition Institutionnelle du Financement</h2>
                
                <!-- Filtres -->
                <div class="filters">
                    <div class="filter-group">
                        <label class="filter-label">Période</label>
                        <select class="filter-select" id="period-institutionnelle">
                            <option value="2023">2023</option>
                            <option value="2022">2022</option>
                            <option value="2021">2021</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Type d'institution</label>
                        <select class="filter-select" id="institution-type">
                            <option value="tous">Tous types</option>
                            <option value="banque">Banques</option>
                            <option value="emf">Établissements de microfinance</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label">Indicateur</label>
                        <select class="filter-select" id="institution-indicator">
                            <option value="volume">Volume de crédit</option>
                            <option value="part">Part de marché</option>
                            <option value="croissance">Croissance</option>
                        </select>
                    </div>
                </div>
                
                <!-- Graphiques -->
                <div class="graph-container">
                    <div class="graph-card">
                        <div class="graph-title">Part de marché par institution</div>
                        <div class="graph-placeholder">
                            Graphique circulaire - Parts de marché
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Concentration du financement</div>
                        <div class="graph-placeholder">
                            Graphique en barres - Concentration
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Évolution des parts de marché</div>
                        <div class="graph-placeholder">
                            Graphique en aires empilées - Évolution des parts
                        </div>
                    </div>
                    <div class="graph-card">
                        <div class="graph-title">Performance comparative</div>
                        <div class="graph-placeholder">
                            Graphique radar - Performance comparative
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fonction pour changer d'onglet
        function switchTab(tabName) {
            // Désactiver tous les onglets
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab-pane').forEach(pane => {
                pane.classList.remove('active');
            });
            
            // Activer l'onglet sélectionné
            event.target.classList.add('active');
            document.getElementById(tabName).classList.add('active');
        }

        // Initialisation au chargement de la page
        document.addEventListener('DOMContentLoaded', function() {
            // Assurer que le premier onglet est actif
            if (!document.querySelector('.nav-tab.active')) {
                document.querySelector('.nav-tab').classList.add('active');
                document.querySelector('.tab-pane').classList.add('active');
            }
        });
    </script>
</body>
</html>